const http=require("http");require("dotenv").config();const readline=require("readline"),bcryptjs=require("bcryptjs"),express=require("express"),app=express(),cors=require("cors");let encryptionKey;app.use(cors({origin:"http://localhost:3000"})),app.use(express.json()),bcryptjs.genSalt(10,((e,r)=>{bcryptjs.hash(process.env.KEY,r,((e,r)=>{encryptionKey=r}))})),app.listen(4e3,(()=>{console.log("Server is listening at port 4000...")})),app.post("/",((e,r)=>{let{key:s}=e.body;bcryptjs.compare(s,encryptionKey,((e,o)=>{console.log(s),console.log(encryptionKey),o?r.json({msg:"valid"}):r.json({msg:"invalid"})}))}));